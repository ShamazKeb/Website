<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UPE Rechner - Alkohol-Effizienz Leaderboard</title>
    <!-- Tailwind CSS CDN (for development, will integrate more formally later) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
        <style>
            /* Custom Tailwind configuration stays the same */
            tailwind.config = { /* ... */ };
    
            @keyframes moveGradient {
                0% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
                100% { background-position: 0% 50%; }
            }
    
            @keyframes rotateBlob1 {
                from { transform: rotate(0deg) translateX(10%) rotate(0deg); }
                to { transform: rotate(360deg) translateX(10%) rotate(-360deg); }
            }
            
            @keyframes rotateBlob2 {
                from { transform: rotate(0deg) translateX(-15%) rotate(0deg); }
                to { transform: rotate(-360deg) translateX(-15%) rotate(360deg); }
            }
    
            /* New Glassmorphism Theme */
            body {
                background: #111827;
                background-image: linear-gradient(120deg, #111827 0%, #1e1b4b 50%, #4c1d95 100%);
                background-size: 200% 200%;
                animation: moveGradient 15s ease-in-out infinite;
                color: #f9fafb;
                font-family: 'Inter', sans-serif;
                min-height: 100vh;
                display: flex;
                flex-direction: column;
                overflow: hidden; /* Hide blob overflow */
                position: relative;
            }
    
            /* Background Blobs for the glass effect */
            .blob-container {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: -1;
                overflow: hidden;
            }
            .blob1, .blob2 {
                position: absolute;
                width: 60vmax;
                height: 60vmax;
                border-radius: 9999px;
                filter: blur(80px);
                opacity: 0.3;
            }
            .blob1 {
                top: -20%;
                left: -10%;
                background-color: #7c3aed;
                animation: rotateBlob1 25s infinite linear;
            }
            .blob2 {
                bottom: -20%;
                right: -10%;
                background-color: #0ea5e9;
                animation: rotateBlob2 30s infinite linear;
            }
    
            /* Core Glass Container Style */
            .glass-container {
                background: rgba(255, 255, 255, 0.1);
                backdrop-filter: blur(12px);
                -webkit-backdrop-filter: blur(12px);
                border: 1px solid rgba(255, 255, 255, 0.15);
                border-radius: 1rem;
                box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            }
    
            /* Custom scrollbar */
            ::-webkit-scrollbar { width: 10px; }
            ::-webkit-scrollbar-track { background: transparent; }
            ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); border-radius: 5px; }
            ::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.4); }
    
            /* Type Colors (using a glowy effect now) */
            .type-bier { box-shadow: 0 0 15px #ffee58, inset 0 0 5px #ffee58; border-color: #ffee58; }
            .type-wein { box-shadow: 0 0 15px #ff1744, inset 0 0 5px #ff1744; border-color: #ff1744; }
            .type-spirituose { box-shadow: 0 0 15px #00bcd4, inset 0 0 5px #00bcd4; border-color: #00bcd4; }
            .type-sonstiges { box-shadow: 0 0 15px #7c4dff, inset 0 0 5px #7c4dff; border-color: #7c4dff; }
    
            /* Form elements */
            .form-input, .form-select {
                background: rgba(0, 0, 0, 0.2);
                border: 1px solid rgba(255, 255, 255, 0.2);
                color: #f9fafb;
                padding: 0.75rem 1rem;
                border-radius: 0.5rem;
                width: 100%;
                transition: all 0.2s ease-in-out;
            }
            .form-input:focus, .form-select:focus {
                outline: none;
                border-color: #0ea5e9;
                box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.4);
                background: rgba(0, 0, 0, 0.3);
            }
            .form-input::placeholder { color: #9ca3af; }
    
            /* Button */
            .cta-button {
                background-image: linear-gradient(to right, #34d399, #0ea5e9);
                color: #111827;
                font-family: 'Chakra Petch', sans-serif;
                font-weight: 700;
                padding: 0.75rem 1.5rem;
                border-radius: 0.5rem;
                border: none;
                transition: all 0.3s ease;
                box-shadow: 0 4px 15px rgba(52, 211, 153, 0.4);
            }
            .cta-button:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 20px rgba(52, 211, 153, 0.6);
            }
            
            /* Leaderboard Item */
            .leaderboard-item {
                background: rgba(255, 255, 255, 0.05);
                border-width: 1px;
                border-style: solid;
                border-color: rgba(255, 255, 255, 0.15);
                transition: all 0.2s ease-in-out;
                animation: slideInUp 0.5s ease-out forwards;
                opacity: 0;
            }
            .leaderboard-item:hover {
                transform: translateY(-3px) scale(1.02);
                background: rgba(255, 255, 255, 0.1);
            }
    
            .top-deal-badge {
                background-color: #ffee58;
                color: #111827;
                font-family: 'Chakra Petch', sans-serif;
                font-weight: 700;
            }
    
            /* Animation Keyframes */
            @keyframes slideInUp {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
        </style>
    </head>
    <body class="selection:bg-sky-400 selection:text-white">
        <div class="blob-container">
            <div class="blob1"></div>
            <div class="blob2"></div>
        </div>
    
        <header class="py-6 px-4 glass-container sticky top-0 z-10 mx-2 mt-2">
            <div class="container mx-auto flex justify-between items-center">
                <h1 class="text-3xl font-chakra-petch font-bold text-white tracking-wider">UPE Rechner</h1>
                <h2 class="text-lg font-chakra-petch text-sky-300">Glassmorphism Edition</h2>
            </div>
        </header>
    
        <main class="flex-grow container mx-auto p-4 grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8">
            <!-- Input Form Section -->
            <section class="lg:col-span-1 glass-container p-6 h-fit">
                <h2 class="text-2xl font-chakra-petch text-emerald-400 mb-6">Neues Getränk Einreichen</h2>
                <form id="beverage-form" class="space-y-4">
                    <div>
                        <label for="name" class="block text-gray-300 text-sm font-bold mb-2">Name des Getränks:</label>
                        <input type="text" id="name" name="name" class="form-input" placeholder="z.B. Oettinger Pils" required>
                    </div>
                    <div>
                        <label for="type" class="block text-gray-300 text-sm font-bold mb-2">Typ:</label>
                        <select id="type" name="type" class="form-select" required>
                            <option value="">Bitte auswählen</option>
                            <option value="bier">Bier</option>
                            <option value="wein">Wein</option>
                            <option value="spirituose">Spirituose</option>
                            <option value="sonstiges">Sonstiges</option>
                        </select>
                    </div>
                    <div>
                        <label for="container-volume" class="block text-gray-300 text-sm font-bold mb-2">Gebindegröße (Liter):</label>
                        <input type="number" id="container-volume" name="container_volume" class="form-input" placeholder="z.B. 0.5" step="0.01" min="0.01" required>
                    </div>
                    <div>
                        <label for="price" class="block text-gray-300 text-sm font-bold mb-2">Preis (€):</label>
                        <input type="number" id="price" name="price" class="form-input" placeholder="z.B. 0.79" step="0.01" min="0.01" required>
                    </div>
                    <div>
                        <label for="store" class="block text-gray-300 text-sm font-bold mb-2">Markt (Kette):</label>
                        <select id="store" name="store" class="form-select" required>
                            <option value="">Bitte auswählen</option>
                            <option value="Rewe">Rewe</option>
                            <option value="Edeka">Edeka</option>
                            <option value="Aldi">Aldi</option>
                            <option value="Lidl">Lidl</option>
                            <option value="Kaufland">Kaufland</option>
                            <option value="Netto">Netto</option>
                            <option value="Penny">Penny</option>
                            <option value="Sonstige">Sonstige</option>
                        </select>
                    </div>
                    <div>
                        <label for="alcohol-content" class="block text-gray-300 text-sm font-bold mb-2">Alkoholgehalt (% Vol):</label>
                        <input type="number" id="alcohol-content" name="alcohol_content" class="form-input" placeholder="z.B. 5" step="0.01" min="0.1" max="100" required>
                    </div>
                    <button type="submit" class="cta-button w-full">Berechnen & Einreichen</button>
                </form>
                <div id="form-message" class="mt-4 text-center text-sm font-inter"></div>
            </section>
    
            <!-- Leaderboard Section -->
            <section class="lg:col-span-2 glass-container p-6">
                <div class="flex flex-col sm:flex-row justify-between items-center mb-6">
                    <h2 class="text-2xl font-chakra-petch text-emerald-400 mb-4 sm:mb-0">UPE Leaderboard</h2>
                    <div class="flex space-x-4">
                    <select id="filter-type" class="form-select w-40">
                        <option value="all">Alle Typen</option>
                        <option value="bier">Bier</option>
                        <option value="wein">Wein</option>
                        <option value="spirituose">Spirituose</option>
                        <option value="sonstiges">Sonstiges</option>
                    </select>
                    <select id="filter-store" class="form-select w-40">
                        <option value="all">Alle Märkte</option>
                        <option value="Rewe">Rewe</option>
                        <option value="Edeka">Edeka</option>
                        <option value="Aldi">Aldi</option>
                        <option value="Lidl">Lidl</option>
                        <option value="Kaufland">Kaufland</option>
                        <option value="Netto">Netto</option>
                        <option value="Penny">Penny</option>
                        <option value="Sonstige">Sonstige</option>
                    </select>
                </div>
                </div>
                <div id="leaderboard-container" class="space-y-4">
                    <!-- Leaderboard items will be injected here by JavaScript -->
                </div>
            </section>
        </main>
    
        <footer class="mt-12 py-6 px-4 text-center text-gray-400 text-sm">
                    <p>&copy; 2026 UPE Rechner. All rights reserved.</p>
                </footer>
                
                    <script src="./js/app.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
                </body>
                </html>